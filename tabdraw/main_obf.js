const _0x55bf50=_0xcb18;function _0x4497(){const _0x802042=['onclick','3149716WXRMYG','off','click','aria-hidden','create','warn','textContent','polygon','addLatLng','createElement','438BCfrsl','geocoder','topleft','disableScrollPropagation','download','exportConfirmBtn','statusBar','setStyle','zoomControl','getLayers','map-project-control','CREATED','#005500','removeControl','type','Project\x20loaded.','loadProject\x20error:','length','getItem','Zoomed\x20to\x20data.','47964texJzO','loadProjectBtn','FeatureCollection','exportCancelBtn','14251000BMErSR','chkPoints','href','Hybrid\x20©\x20Google','EDITSTART','button','eachLayer','body','Save\x20GeoJSON','https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}','addTo','https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}','toGeoJSON','innerText','stringify','setAttribute','Event','2231490aZZGIx','checked','setItem','No\x20saved\x20project\x20found.','querySelector','forEach','map','Load\x20Project','layers','177611SAMKSp','none','chkPolygons','marker','Failed\x20to\x20save\x20project.','close','polygons','exportBtn','New\x20Project','addEventListener','false','exportModal','clearLayers','.geojson','true','Stop\x20Editing','GeoJSON\x20exported.','divIcon','EDITSTOP','write','Street\x20©\x20Google','3LLWMEc','style','Draw','.map-project-control','Feature\x20added.','display','poly_project_v1','addControl','map_export.geojson','features','geoJSON','getElementById','Native\x20Save\x20As\x20canceled\x20or\x20failed,\x20falling\x20back\x20to\x20Blob.','1yoGIfd','extend','appendChild','lines','flex','DOMContentLoaded','#8B0000','resumeBtn','No\x20existing\x20polyline\x20to\x20resume.','helpPanel','Control','354544OGytDN','parse','No\x20data\x20to\x20zoom\x20to.','bottomright','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','zoomBtn','3619tZwdGE','points','error','fitBounds','latlng','push','Save\x20Project','revokeObjectURL','control','FeatureGroup','zoom','block','layer','tileLayer','Resume\x20Line','layerType','7060865MkTKyh','DomUtil','addLayer','getBounds','DomEvent','createWritable','disable','27GkwfHz'];_0x4497=function(){return _0x802042;};return _0x4497();}(function(_0xaecbec,_0x18cf2a){const _0x319f6b=_0xcb18,_0x3578c4=_0xaecbec();while(!![]){try{const _0xa50450=-parseInt(_0x319f6b(0x18b))/0x1*(-parseInt(_0x319f6b(0x12d))/0x2)+-parseInt(_0x319f6b(0x17e))/0x3*(-parseInt(_0x319f6b(0x196))/0x4)+-parseInt(_0x319f6b(0x1ac))/0x5+-parseInt(_0x319f6b(0x137))/0x6*(-parseInt(_0x319f6b(0x169))/0x7)+-parseInt(_0x319f6b(0x14f))/0x8+-parseInt(_0x319f6b(0x12b))/0x9*(parseInt(_0x319f6b(0x160))/0xa)+parseInt(_0x319f6b(0x19c))/0xb*(parseInt(_0x319f6b(0x14b))/0xc);if(_0xa50450===_0x18cf2a)break;else _0x3578c4['push'](_0x3578c4['shift']());}catch(_0x133444){_0x3578c4['push'](_0x3578c4['shift']());}}}(_0x4497,0xec43d));let map,lineLayer,polygonLayer,pointLayer,editGroup,drawControl,currentPolyline=null,activeDrawHandler=null;function _0xcb18(_0x1fab6b,_0x182846){const _0x449773=_0x4497();return _0xcb18=function(_0xcb189e,_0x392f67){_0xcb189e=_0xcb189e-0x126;let _0x4e7af4=_0x449773[_0xcb189e];return _0x4e7af4;},_0xcb18(_0x1fab6b,_0x182846);}const STORAGE_KEY=_0x55bf50(0x184);function initMap(){const _0x5455c3=_0x55bf50;let _0x12c1ef=L[_0x5455c3(0x1a9)](_0x5455c3(0x19a),{'maxZoom':0x13,'attribution':'&copy;\x20OpenStreetMap\x20contributors'}),_0x240a41=L[_0x5455c3(0x1a9)](_0x5455c3(0x15a),{'maxZoom':0x14,'attribution':'Tiles\x20&copy;\x20Esri'}),_0x4dfdda=L['tileLayer'](_0x5455c3(0x158),{'maxZoom':0x13,'attribution':_0x5455c3(0x17d)}),_0x13513a=L[_0x5455c3(0x1a9)]('https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}',{'attribution':_0x5455c3(0x152)});map=L[_0x5455c3(0x166)](_0x5455c3(0x166),{'center':[20.5937,78.9629],'zoom':0x5,'layers':[_0x12c1ef]}),L['control'][_0x5455c3(0x168)]({'OSM':_0x12c1ef,'Esri':_0x240a41,'Google':_0x4dfdda,'Hybrid':_0x13513a},null,{'position':'topright'})['addTo'](map),L[_0x5455c3(0x195)][_0x5455c3(0x138)]({'defaultMarkGeocode':!0x0})[_0x5455c3(0x159)](map),map[_0x5455c3(0x144)](map[_0x5455c3(0x13f)]),L[_0x5455c3(0x1a4)][_0x5455c3(0x1a6)]({'position':_0x5455c3(0x199)})[_0x5455c3(0x159)](map);}function initLayers(){const _0x5b6fe0=_0x55bf50;lineLayer=new L['FeatureGroup'](),polygonLayer=new L['FeatureGroup'](),pointLayer=new L[(_0x5b6fe0(0x1a5))](),editGroup=new L[(_0x5b6fe0(0x1a5))](),map[_0x5b6fe0(0x126)](lineLayer),map[_0x5b6fe0(0x126)](polygonLayer),map[_0x5b6fe0(0x126)](pointLayer),map['addLayer'](editGroup);}function initDrawControl(){const _0x4a562a=_0x55bf50;let _0x39995e=L[_0x4a562a(0x17a)]({'className':'small-point','iconSize':[0x8,0x8],'iconAnchor':[0x4,0x4]});drawControl=new L[(_0x4a562a(0x195))]['Draw']({'draw':{'polyline':{'shapeOptions':{'color':_0x4a562a(0x191),'weight':0x4}},'polygon':{'allowIntersection':!0x1,'showArea':!0x0,'shapeOptions':{'color':_0x4a562a(0x143),'weight':0x3}},'rectangle':!0x1,'circle':!0x1,'circlemarker':!0x1,'marker':{'icon':_0x39995e}},'edit':{'featureGroup':editGroup,'edit':!0x0,'remove':!0x0}}),map[_0x4a562a(0x185)](drawControl),map['on'](L[_0x4a562a(0x180)][_0x4a562a(0x15f)][_0x4a562a(0x142)],_0x26cbbb=>{const _0x394236=_0x4a562a;let _0x447004=_0x26cbbb[_0x394236(0x1a8)],_0x50d97a=_0x26cbbb[_0x394236(0x1ab)];if('polyline'===_0x50d97a?(_0x447004[_0x394236(0x13e)]({'color':'#8B0000'}),lineLayer[_0x394236(0x126)](_0x447004),editGroup[_0x394236(0x126)](_0x447004),currentPolyline=_0x447004):_0x394236(0x134)===_0x50d97a?(_0x447004[_0x394236(0x13e)]({'color':_0x394236(0x143)}),polygonLayer[_0x394236(0x126)](_0x447004),editGroup[_0x394236(0x126)](_0x447004)):(_0x394236(0x16c)===_0x50d97a&&pointLayer[_0x394236(0x126)](_0x447004),editGroup[_0x394236(0x126)](_0x447004)),activeDrawHandler){try{activeDrawHandler[_0x394236(0x12a)]();}catch(_0x11ac21){}activeDrawHandler=null;}map['off']('click',continuePolyline),updateStatus(_0x394236(0x182));}),map['on'](L[_0x4a562a(0x180)][_0x4a562a(0x15f)][_0x4a562a(0x153)],()=>{const _0x10d990=_0x4a562a;map[_0x10d990(0x12e)]('click',continuePolyline);}),map['on'](L[_0x4a562a(0x180)]['Event'][_0x4a562a(0x17b)],()=>{map['off']('click',continuePolyline);});}function resumeLastPolyline(){const _0x3b604d=_0x55bf50;if(!currentPolyline){window['alert'](_0x3b604d(0x193));return;}stopEditing(),map['on'](_0x3b604d(0x12f),continuePolyline),updateStatus('Click\x20map\x20to\x20add\x20points\x20to\x20the\x20last\x20polyline.\x20Double-click\x20or\x20use\x20Finish\x20on\x20Draw\x20toolbar\x20to\x20finish.');}function continuePolyline(_0xb0d846){const _0x162f1b=_0x55bf50;currentPolyline&&(currentPolyline[_0x162f1b(0x135)](_0xb0d846[_0x162f1b(0x1a0)]),currentPolyline[_0x162f1b(0x13e)]({'color':_0x162f1b(0x191)}));}function stopEditing(){const _0x2def72=_0x55bf50;if(map[_0x2def72(0x12e)](_0x2def72(0x12f),continuePolyline),activeDrawHandler){try{activeDrawHandler[_0x2def72(0x12a)]();}catch(_0x239b50){}activeDrawHandler=null;}currentPolyline&&currentPolyline[_0x2def72(0x13e)]({'color':_0x2def72(0x191)}),updateStatus('Editing\x20stopped.');}function saveProject(){const _0x5edbcf=_0x55bf50;let _0x5d14f9={'lines':lineLayer[_0x5edbcf(0x15b)](),'polygons':polygonLayer[_0x5edbcf(0x15b)](),'points':pointLayer[_0x5edbcf(0x15b)]()};try{localStorage[_0x5edbcf(0x162)](STORAGE_KEY,JSON[_0x5edbcf(0x15d)](_0x5d14f9)),updateStatus('Project\x20saved\x20locally.');}catch(_0x28b2e1){console[_0x5edbcf(0x19e)]('saveProject:',_0x28b2e1),updateStatus(_0x5edbcf(0x16d));}}function loadProject(){const _0x2c3d03=_0x55bf50;let _0x48acc5=localStorage[_0x2c3d03(0x149)](STORAGE_KEY);if(!_0x48acc5){updateStatus(_0x2c3d03(0x163));return;}try{let _0x4ff8e0=JSON[_0x2c3d03(0x197)](_0x48acc5);lineLayer['clearLayers'](),polygonLayer[_0x2c3d03(0x175)](),pointLayer[_0x2c3d03(0x175)](),editGroup[_0x2c3d03(0x175)](),_0x4ff8e0[_0x2c3d03(0x18e)]&&L[_0x2c3d03(0x188)](_0x4ff8e0[_0x2c3d03(0x18e)],{'onEachFeature'(_0xc83815,_0x5c87f2){const _0x2193f1=_0x2c3d03;lineLayer[_0x2193f1(0x126)](_0x5c87f2),editGroup['addLayer'](_0x5c87f2);}}),_0x4ff8e0['polygons']&&L[_0x2c3d03(0x188)](_0x4ff8e0[_0x2c3d03(0x16f)],{'onEachFeature'(_0x4086f9,_0x16cd11){const _0x1bb040=_0x2c3d03;polygonLayer['addLayer'](_0x16cd11),editGroup[_0x1bb040(0x126)](_0x16cd11);}}),_0x4ff8e0[_0x2c3d03(0x19d)]&&L[_0x2c3d03(0x188)](_0x4ff8e0[_0x2c3d03(0x19d)],{'pointToLayer'(_0x239bd3,_0x38bad6){const _0x39f9f4=_0x2c3d03;let _0x54f58c=L['marker'](_0x38bad6,{'icon':L[_0x39f9f4(0x17a)]({'className':'small-point','iconSize':[0x8,0x8],'iconAnchor':[0x4,0x4]})});return pointLayer[_0x39f9f4(0x126)](_0x54f58c),editGroup[_0x39f9f4(0x126)](_0x54f58c),_0x54f58c;}});let _0x1247a2=lineLayer['getLayers']();currentPolyline=_0x1247a2[_0x2c3d03(0x148)]?_0x1247a2[_0x1247a2[_0x2c3d03(0x148)]-0x1]:null,zoomToData(),updateStatus(_0x2c3d03(0x146));}catch(_0x550a7a){console[_0x2c3d03(0x19e)](_0x2c3d03(0x147),_0x550a7a),updateStatus('Failed\x20to\x20load\x20project.');}}function newProject(){const _0x3c277e=_0x55bf50;confirm('Start\x20a\x20new\x20project?\x20This\x20will\x20clear\x20current\x20map\x20contents.')&&(localStorage['removeItem'](STORAGE_KEY),lineLayer[_0x3c277e(0x175)](),polygonLayer['clearLayers'](),pointLayer[_0x3c277e(0x175)](),editGroup[_0x3c277e(0x175)](),currentPolyline=null,stopEditing(),updateStatus('New\x20project\x20started.'));}function zoomToData(){const _0xad6d2a=_0x55bf50;let _0xf6969a=L['featureGroup']([lineLayer,polygonLayer,pointLayer]);if(!_0xf6969a||0x0===_0xf6969a[_0xad6d2a(0x140)]()[_0xad6d2a(0x148)]){updateStatus(_0xad6d2a(0x198));return;}map[_0xad6d2a(0x19f)](_0xf6969a[_0xad6d2a(0x127)](),{'padding':[0x14,0x14]}),updateStatus(_0xad6d2a(0x14a));}function createProjectControl(){const _0xe28a8a=_0x55bf50;let _0x2fcc33=L[_0xe28a8a(0x195)][_0xe28a8a(0x18c)]({'onAdd':function(){const _0xbd7d74=_0xe28a8a;let _0x343975=L[_0xbd7d74(0x1ad)][_0xbd7d74(0x131)]('div',_0xbd7d74(0x141)),_0x5ec4f4=createButton(_0xbd7d74(0x171),'newProjectBtn'),_0x729387=createButton(_0xbd7d74(0x167),_0xbd7d74(0x14c)),_0x4f37af=createButton(_0xbd7d74(0x1a2),'saveProjectBtn'),_0x2badf6=createButton(_0xbd7d74(0x157),_0xbd7d74(0x170)),_0x4b8906=createButton(_0xbd7d74(0x1aa),_0xbd7d74(0x192)),_0x4fbcf8=createButton(_0xbd7d74(0x178),'stopBtn'),_0x171e36=createButton('Zoom\x20to\x20Data',_0xbd7d74(0x19b)),_0x4bce9f=createButton('Help','helpBtn');return[_0x5ec4f4,_0x729387,_0x4f37af,_0x2badf6,_0x4b8906,_0x4fbcf8,_0x171e36,_0x4bce9f][_0xbd7d74(0x165)](_0xc65900=>_0x343975[_0xbd7d74(0x18d)](_0xc65900)),L[_0xbd7d74(0x128)]['disableClickPropagation'](_0x343975),L[_0xbd7d74(0x128)][_0xbd7d74(0x13a)](_0x343975),_0x5ec4f4[_0xbd7d74(0x172)](_0xbd7d74(0x12f),newProject),_0x729387[_0xbd7d74(0x172)](_0xbd7d74(0x12f),loadProject),_0x4f37af['addEventListener'](_0xbd7d74(0x12f),saveProject),_0x2badf6['addEventListener'](_0xbd7d74(0x12f),exportGeoJSON),_0x4b8906[_0xbd7d74(0x172)](_0xbd7d74(0x12f),resumeLastPolyline),_0x4fbcf8[_0xbd7d74(0x172)]('click',stopEditing),_0x171e36[_0xbd7d74(0x172)](_0xbd7d74(0x12f),zoomToData),_0x4bce9f[_0xbd7d74(0x172)](_0xbd7d74(0x12f),()=>{const _0x12b213=_0xbd7d74;let _0x1c59a0=document[_0x12b213(0x189)]('helpPanel');_0x1c59a0['style'][_0x12b213(0x183)]=_0x12b213(0x1a7),_0x1c59a0[_0x12b213(0x15e)](_0x12b213(0x130),_0x12b213(0x173));}),_0x343975;}}),_0x4d5c65=new _0x2fcc33({'position':_0xe28a8a(0x139)});map[_0xe28a8a(0x185)](_0x4d5c65);let _0x53ca26=document[_0xe28a8a(0x164)](_0xe28a8a(0x181));document[_0xe28a8a(0x156)][_0xe28a8a(0x18d)](_0x53ca26),_0x53ca26[_0xe28a8a(0x17f)][_0xe28a8a(0x183)]=_0xe28a8a(0x18f);}function createButton(_0x28e859,_0x1114f0){const _0x59ddf4=_0x55bf50;let _0x335e1e=document['createElement'](_0x59ddf4(0x154));return _0x335e1e['id']=_0x1114f0,_0x335e1e[_0x59ddf4(0x145)]='button',_0x335e1e[_0x59ddf4(0x15c)]=_0x28e859,_0x335e1e;}function setupHelpPanel(){const _0x205b70=_0x55bf50;let _0x3852ac=document[_0x205b70(0x189)](_0x205b70(0x194)),_0x24cf67=document[_0x205b70(0x189)]('helpClose');_0x3852ac&&_0x24cf67&&_0x24cf67['addEventListener'](_0x205b70(0x12f),()=>{const _0x3dc766=_0x205b70;_0x3852ac[_0x3dc766(0x17f)][_0x3dc766(0x183)]=_0x3dc766(0x16a),_0x3852ac['setAttribute']('aria-hidden',_0x3dc766(0x177));});}function updateStatus(_0x427396){const _0x4c9149=_0x55bf50;let _0x48546a=document[_0x4c9149(0x189)](_0x4c9149(0x13d));_0x48546a[_0x4c9149(0x133)]=_0x427396||'';}function exportGeoJSON(){const _0x1c5ab0=_0x55bf50;document[_0x1c5ab0(0x189)]('exportModal')[_0x1c5ab0(0x17f)]['display']=_0x1c5ab0(0x1a7);}document[_0x55bf50(0x172)](_0x55bf50(0x190),()=>{initMap(),initLayers(),initDrawControl(),createProjectControl(),setupHelpPanel(),updateStatus('Map\x20ready.');}),document['getElementById'](_0x55bf50(0x14e))[_0x55bf50(0x12c)]=function(){const _0x4ec0a2=_0x55bf50;document[_0x4ec0a2(0x189)](_0x4ec0a2(0x174))[_0x4ec0a2(0x17f)]['display']=_0x4ec0a2(0x16a);},document[_0x55bf50(0x189)](_0x55bf50(0x13c))['onclick']=async function(){const _0x5d2cf5=_0x55bf50;let _0x595a5b=document[_0x5d2cf5(0x189)]('chkLines')[_0x5d2cf5(0x161)],_0xefa4a1=document[_0x5d2cf5(0x189)](_0x5d2cf5(0x16b))[_0x5d2cf5(0x161)],_0x1d5ff9=document[_0x5d2cf5(0x189)](_0x5d2cf5(0x150))[_0x5d2cf5(0x161)];document[_0x5d2cf5(0x189)](_0x5d2cf5(0x174))['style']['display']='none';let _0xf024fe={'type':_0x5d2cf5(0x14d),'features':[]};_0x595a5b&&lineLayer['eachLayer'](_0x1bd688=>_0xf024fe[_0x5d2cf5(0x187)][_0x5d2cf5(0x1a1)](_0x1bd688['toGeoJSON']())),_0xefa4a1&&polygonLayer[_0x5d2cf5(0x155)](_0x2b477c=>_0xf024fe[_0x5d2cf5(0x187)][_0x5d2cf5(0x1a1)](_0x2b477c[_0x5d2cf5(0x15b)]())),_0x1d5ff9&&pointLayer['eachLayer'](_0x15c072=>_0xf024fe[_0x5d2cf5(0x187)][_0x5d2cf5(0x1a1)](_0x15c072[_0x5d2cf5(0x15b)]()));let _0x5520a3=JSON[_0x5d2cf5(0x15d)](_0xf024fe,null,0x2);if(window['showSaveFilePicker'])try{let _0x124205=await showSaveFilePicker({'suggestedName':'map_export.geojson','types':[{'description':'GeoJSON','accept':{'application/geo+json':[_0x5d2cf5(0x176)]}}]}),_0x283e7f=await _0x124205[_0x5d2cf5(0x129)]();await _0x283e7f[_0x5d2cf5(0x17c)](_0x5520a3),await _0x283e7f[_0x5d2cf5(0x16e)](),updateStatus(_0x5d2cf5(0x179));return;}catch(_0x39a1ff){console[_0x5d2cf5(0x132)](_0x5d2cf5(0x18a),_0x39a1ff);}let _0x3bf94f=new Blob([_0x5520a3],{'type':'application/geo+json'}),_0x5a9007=URL['createObjectURL'](_0x3bf94f),_0x2c8fd3=document[_0x5d2cf5(0x136)]('a');_0x2c8fd3[_0x5d2cf5(0x151)]=_0x5a9007,_0x2c8fd3[_0x5d2cf5(0x13b)]=_0x5d2cf5(0x186),_0x2c8fd3[_0x5d2cf5(0x12f)](),URL[_0x5d2cf5(0x1a3)](_0x5a9007),updateStatus(_0x5d2cf5(0x179));};