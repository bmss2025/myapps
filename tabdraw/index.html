<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Polyline Mapper</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- Leaflet Draw -->
<link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
<script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>

<!-- Geocoder -->
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<link rel="stylesheet" href="style_mnf.css" />
</head>
<body>
<div id="map"></div>

<div id="controls">
  <button id="newProjectBtn">New Project</button>
  <button id="loadProjectBtn">Load Project</button>
  <button id="zoomDataBtn">Zoom to Data</button>
  <button id="drawBtn">Draw</button>
  <button id="resumeBtn">Resume</button>
  <button id="stopBtn">Stop</button>
  <button id="saveProjectBtn">Save Project</button>
  <button id="saveBtn">Save GeoJSON</button>
  <button id="helpBtn">Help</button>
  <span id="status"></span>
</div>

<!-- Persistent Help Panel -->
<div id="helpPanel">
  <span id="helpClose">&times;</span>
  <h2>Instructions & Guide</h2>
  <p>Use the toolbar buttons to draw and manage polylines:</p>
  <ul>
    <li><b>Draw:</b> Start a new polyline (active line is red)</li>
    <li><b>Resume:</b> Continue the last polyline</li>
    <li><b>Stop:</b> Finish editing the current line (turns blue)</li>
    <li><b>Save GeoJSON:</b> Export all lines to a file</li>
    <li><b>Save Project:</b> Save lines locally</li>
    <li><b>Load Project:</b> Load saved project</li>
    <li><b>Zoom to Data:</b> Zoom map to fit all lines</li>
    <li><b>New Project:</b> Clear map and start fresh</li>
    <li><b>Help:</b> Open this panel</li>
  </ul>
  <p>Scroll for more instructions...</p>
</div>

<!-- container for Locate / Zoom buttons below geocoder -->
<div id="topright-buttons"></div>

<script src="main_obf.js"></script>
</body>
</html>
