const _0x25944e=_0x49e5;(function(_0x13b019,_0x512c04){const _0x38350c=_0x49e5,_0x15ccd8=_0x13b019();while(!![]){try{const _0x264195=-parseInt(_0x38350c(0xbb))/0x1+-parseInt(_0x38350c(0xcc))/0x2+-parseInt(_0x38350c(0xb3))/0x3+parseInt(_0x38350c(0xe0))/0x4+parseInt(_0x38350c(0xaf))/0x5*(parseInt(_0x38350c(0x92))/0x6)+-parseInt(_0x38350c(0xd9))/0x7+parseInt(_0x38350c(0xca))/0x8;if(_0x264195===_0x512c04)break;else _0x15ccd8['push'](_0x15ccd8['shift']());}catch(_0x1decac){_0x15ccd8['push'](_0x15ccd8['shift']());}}}(_0xa4d4,0x2f88b));let player,map,polyline,rideMarker,linkedPoints=[],landmarks=[],loadedGeoJSON=null;const markerList=document[_0x25944e(0xc1)](_0x25944e(0xf3));let tempLandmarkMarker=null,tempLandmarkData=null;function onYouTubeIframeAPIReady(){const _0xab13fa=_0x25944e;player=new YT[(_0xab13fa(0x9d))](_0xab13fa(0xc2),{'height':_0xab13fa(0xf5),'width':_0xab13fa(0xc9),'videoId':'','playerVars':{'autoplay':0x0,'controls':0x1,'rel':0x0,'modestbranding':0x1}});}function _0x49e5(_0x3be9b8,_0x1a029b){const _0xa4d4a2=_0xa4d4();return _0x49e5=function(_0x49e580,_0x1ff5fa){_0x49e580=_0x49e580-0x82;let _0x3ffe60=_0xa4d4a2[_0x49e580];return _0x3ffe60;},_0x49e5(_0x3be9b8,_0x1a029b);}function getYouTubeID(_0xd59a98){const _0x1b525c=_0x25944e;let _0x33cf2a=_0xd59a98[_0x1b525c(0xfe)](/(?:v=|\/)([0-9A-Za-z_-]{11})(?:\?|&|$)/);return _0x33cf2a?_0x33cf2a[0x1]:null;}function extractLineCoords(_0x196c85){const _0xd8a8ec=_0x25944e;let _0x30995c=[];if(_0x196c85?.['type']===_0xd8a8ec(0xa6)){let _0x48adbd=_0x196c85[_0xd8a8ec(0xdd)][_0xd8a8ec(0xe1)](_0x52cf13=>_0x52cf13[_0xd8a8ec(0x91)]?.['type']==='LineString');_0x48adbd&&(_0x30995c=_0x48adbd[_0xd8a8ec(0x91)][_0xd8a8ec(0x10d)][_0xd8a8ec(0x99)](_0x4fc6cc=>[_0x4fc6cc[0x1],_0x4fc6cc[0x0]]));}else _0x196c85?.[_0xd8a8ec(0x104)]===_0xd8a8ec(0xd8)&&_0x196c85[_0xd8a8ec(0x91)]?.[_0xd8a8ec(0x104)]===_0xd8a8ec(0x101)?_0x30995c=_0x196c85[_0xd8a8ec(0x91)][_0xd8a8ec(0x10d)][_0xd8a8ec(0x99)](_0x233b88=>[_0x233b88[0x1],_0x233b88[0x0]]):_0x196c85?.[_0xd8a8ec(0x104)]==='LineString'&&(_0x30995c=_0x196c85['coordinates'][_0xd8a8ec(0x99)](_0x5a8c74=>[_0x5a8c74[0x1],_0x5a8c74[0x0]]));return _0x30995c;}function addStartEndMarkers(_0x2a890c){const _0x2f3f5c=_0x25944e;window[_0x2f3f5c(0xdc)]&&map[_0x2f3f5c(0xf4)](startMarker),window[_0x2f3f5c(0x98)]&&map[_0x2f3f5c(0xf4)](endMarker);let _0x1269d0=L[_0x2f3f5c(0xc4)]({'className':_0x2f3f5c(0xad),'html':_0x2f3f5c(0xeb),'iconSize':[0x14,0x14],'iconAnchor':[0xa,0xa]}),_0x2ed1af=L[_0x2f3f5c(0xc4)]({'className':_0x2f3f5c(0xa5),'html':_0x2f3f5c(0xb0),'iconSize':[0x14,0x14],'iconAnchor':[0xa,0xa]});window[_0x2f3f5c(0xdc)]=L[_0x2f3f5c(0xa2)](_0x2a890c[0x0],{'icon':_0x1269d0})['addTo'](map),window[_0x2f3f5c(0x98)]=L[_0x2f3f5c(0xa2)](_0x2a890c[_0x2a890c[_0x2f3f5c(0xea)]-0x1],{'icon':_0x2ed1af})[_0x2f3f5c(0xb2)](map);}function rebuildLandmarks(){const _0x164bfa=_0x25944e;let _0x3deadb=document['getElementById']('markerTableBody');_0x3deadb[_0x164bfa(0x105)]='',map[_0x164bfa(0x8f)](_0x4fea8c=>{const _0x3c22ef=_0x164bfa;_0x4fea8c[_0x3c22ef(0xf6)]&&map[_0x3c22ef(0xf4)](_0x4fea8c);}),landmarks[_0x164bfa(0xc3)](_0x4546d2=>{const _0x23b762=_0x164bfa;let _0x1c9265=L['marker']([_0x4546d2['lat'],_0x4546d2[_0x23b762(0xc8)]],{'icon':L[_0x23b762(0x94)]({'iconUrl':_0x23b762(0x96)})})[_0x23b762(0xb2)](map)[_0x23b762(0xc6)](_0x4546d2['description']||'');_0x1c9265[_0x23b762(0xf6)]=!0x0;let _0x39a5af=document[_0x23b762(0x8b)]('tr');_0x39a5af[_0x23b762(0x105)]=_0x23b762(0xb4)+_0x4546d2[_0x23b762(0xf8)][_0x23b762(0x9e)](0x2)+_0x23b762(0xd2)+_0x4546d2[_0x23b762(0x106)]+'</span></td>\x0a\x20\x20\x20\x20\x20\x20<td>('+_0x4546d2[_0x23b762(0x9b)][_0x23b762(0x9e)](0x5)+',\x20'+_0x4546d2[_0x23b762(0xc8)][_0x23b762(0x9e)](0x5)+_0x23b762(0xbf),_0x39a5af['_markerRef']=_0x1c9265,_0x39a5af[_0x23b762(0x85)](_0x23b762(0x103))['onclick']=()=>{const _0x3ac7d6=_0x23b762;let _0x224a67=confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20landmark?');_0x224a67&&(map[_0x3ac7d6(0xf4)](_0x1c9265),landmarks=landmarks[_0x3ac7d6(0x90)](_0x56fca5=>!(_0x56fca5['time']===_0x4546d2[_0x3ac7d6(0xf8)]&&_0x56fca5[_0x3ac7d6(0x9b)]===_0x4546d2[_0x3ac7d6(0x9b)]&&_0x56fca5[_0x3ac7d6(0xc8)]===_0x4546d2['lon'])),rebuildLandmarks());},_0x39a5af[_0x23b762(0x85)](_0x23b762(0x9c))[_0x23b762(0xd1)]=()=>{const _0x431f07=_0x23b762;let _0x49e633=prompt('Edit\x20landmark\x20description:',_0x4546d2['description']);_0x49e633&&(_0x4546d2[_0x431f07(0x106)]=_0x49e633,_0x1c9265[_0x431f07(0x108)](_0x49e633),_0x39a5af[_0x431f07(0x85)]('.lm-label')[_0x431f07(0xc5)]=_0x49e633);},_0x3deadb[_0x23b762(0xae)](_0x39a5af);});}function attachPolylineClick(){const _0x4bd13c=_0x25944e;polyline&&(polyline[_0x4bd13c(0xf2)](_0x4bd13c(0x82)),polyline['on']('click',_0x5c71cf=>{const _0x5abc0b=_0x4bd13c;if(!player)return alert('Load\x20a\x20video\x20first.');let _0x20f7a1=_0x5c71cf[_0x5abc0b(0x8c)],_0x127d8f=polyline[_0x5abc0b(0x93)]();if(Array['isArray'](_0x127d8f[0x0])&&_0x127d8f[0x0][0x0]instanceof L['LatLng']&&(_0x127d8f=_0x127d8f[_0x5abc0b(0x84)]()),_0x127d8f[_0x5abc0b(0xea)]<0x2)return;let _0x39c9eb=_0x127d8f[0x0],_0x3564ce=0x1/0x0;for(let _0x11a560=0x0;_0x11a560<_0x127d8f['length']-0x1;_0x11a560++){let _0x211dd8=getClosestPointOnSegment(_0x127d8f[_0x11a560],_0x127d8f[_0x11a560+0x1],_0x20f7a1),_0x35e6f7=map[_0x5abc0b(0xbe)](_0x20f7a1,_0x211dd8);_0x35e6f7<_0x3564ce&&(_0x3564ce=_0x35e6f7,_0x39c9eb=_0x211dd8);}tempLandmarkMarker&&map[_0x5abc0b(0xf4)](tempLandmarkMarker);let _0x3c76bc=L[_0x5abc0b(0x94)]({'iconUrl':'https://maps.google.com/mapfiles/ms/icons/yellow-dot.png','iconSize':[0x20,0x20],'iconAnchor':[0x10,0x10]});tempLandmarkMarker=L['marker'](_0x39c9eb,{'icon':_0x3c76bc})['addTo'](map),tempLandmarkData={'lat':_0x39c9eb[_0x5abc0b(0x9b)],'lon':_0x39c9eb[_0x5abc0b(0xaa)],'time':player[_0x5abc0b(0xcd)]()},console['log']('Temporary\x20landmark\x20placed\x20at',_0x39c9eb);}));}function getClosestPointOnSegment(_0x477fc2,_0x40e268,_0x4b050f){const _0x554279=_0x25944e;let _0x4ad3c9=_0x477fc2[_0x554279(0xaa)],_0x1b90a5=_0x477fc2[_0x554279(0x9b)],_0x3dbf1e=_0x40e268['lng'],_0x55e8b1=_0x40e268['lat'],_0x526124=_0x4b050f[_0x554279(0xaa)],_0x4dcfe8=_0x4b050f[_0x554279(0x9b)],_0x3616ca=_0x3dbf1e-_0x4ad3c9,_0x2c42aa=_0x55e8b1-_0x1b90a5,_0x1fd7fd=_0x3616ca*_0x3616ca+_0x2c42aa*_0x2c42aa,_0x363f43=Math[_0x554279(0xe3)](0x0,Math[_0x554279(0x9a)](0x1,0x0===_0x1fd7fd?0x0:((_0x526124-_0x4ad3c9)*_0x3616ca+(_0x4dcfe8-_0x1b90a5)*_0x2c42aa)/_0x1fd7fd));return L[_0x554279(0x97)](_0x1b90a5+_0x2c42aa*_0x363f43,_0x4ad3c9+_0x3616ca*_0x363f43);}function getPositionAtTime(_0x39b403){const _0x31aee9=_0x25944e;if(!polyline)return[0x0,0x0];let _0x554c48=polyline[_0x31aee9(0x93)]();if(0x0===linkedPoints[_0x31aee9(0xea)])return[_0x554c48[0x0]['lat'],_0x554c48[0x0][_0x31aee9(0xaa)]];for(let _0x100ecf=0x0;_0x100ecf<linkedPoints[_0x31aee9(0xea)]-0x1;_0x100ecf++)if(_0x39b403>=linkedPoints[_0x100ecf][_0x31aee9(0xf8)]&&_0x39b403<=linkedPoints[_0x100ecf+0x1][_0x31aee9(0xf8)]){let _0x35b89f=(_0x39b403-linkedPoints[_0x100ecf]['time'])/(linkedPoints[_0x100ecf+0x1]['time']-linkedPoints[_0x100ecf]['time']),[_0x4ce081,_0x54333b]=linkedPoints[_0x100ecf]['position'],[_0x2b1df6,_0x1a3a8b]=linkedPoints[_0x100ecf+0x1][_0x31aee9(0xee)];return[_0x4ce081+(_0x2b1df6-_0x4ce081)*_0x35b89f,_0x54333b+(_0x1a3a8b-_0x54333b)*_0x35b89f];}return linkedPoints[linkedPoints['length']-0x1][_0x31aee9(0xee)];}function _0xa4d4(){const _0x3bfb42=['tileLayer','stringify','Project\x20has\x20no\x20GeoJSON\x20data.','off','markerList','removeLayer','360','_isLandmark','createObjectURL','time','reverseRouteBtn','fitBounds','transform','download','Could\x20not\x20export\x20JSON:\x20','match','Could\x20not\x20reverse\x20geometry\x20in\x20GeoJSON:','.accordion-title','LineString','setLatLng','.deleteBtn','type','innerHTML','description','Error\x20loading\x20project:\x20','setPopupContent','saveProject','Could\x20not\x20save\x20project:\x20','sort','blue','coordinates','Error\x20reading\x20GeoJSON:\x20','click','cueVideoById','flat','querySelector','youtubeURL','files','collapsed','chevron','setView','createElement','latlng','landmarks','loadGeoJSON','eachLayer','filter','geometry','6XCWAep','getLatLngs','icon','error','https://maps.google.com/mapfiles/ms/icons/red-dot.png','latLng','endMarker','map','min','lat','.editBtn','Player','toFixed','stopPropagation','timestamp_project.json','addEventListener','marker','GeoJSON\x20loaded\x20successfully.','change','custom-marker\x20end-icon','FeatureCollection','function','Route\x20reversed\x20successfully.','loadProject','lng','slice','rotate(0deg)','custom-marker\x20start-icon','appendChild','461755ISObmD','<div\x20class=\x22marker-circle\x20end\x22>E</div>','trim','addTo','17667poVdmh','\x0a\x20\x20\x20\x20\x20\x20<td>','Project\x20loaded\x20successfully!','addLandmark','Save\x20error:','contains','bringToFront','video_polyline_data.json','209158reVvIr','Load\x20a\x20polyline\x20first!','projectFile','distance',')</td>\x0a\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22actionBtn\x20editBtn\x22><i\x20class=\x22fa-solid\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22actionBtn\x20deleteBtn\x22><i\x20class=\x22fa-solid\x20fa-trash-can\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20','Invalid\x20GeoJSON\x20format.\x20Must\x20contain\x20a\x20LineString.','getElementById','player','forEach','divIcon','textContent','bindPopup','concat','lon','640','5912408eIHcLW','log','747080MvfdUz','getCurrentTime','warn','geojsonFile','value','onclick','</td>\x0a\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22lm-label\x22>','geojson','load','Please\x20select\x20a\x20GeoJSON\x20file.','result','No\x20temporary\x20landmark\x20exists.\x20Click\x20on\x20the\x20map\x20or\x20polyline\x20to\x20place\x20a\x20landmark\x20first.','Feature','2430715eVysnS','style','reverse','startMarker','features','message','classList','1196516mkRkUq','find','target','max','href','https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','DOMContentLoaded','application/json','readAsText','getBounds','length','<div\x20class=\x22marker-circle\x20start\x22>S</div>','loadVideo','polyline','position'];_0xa4d4=function(){return _0x3bfb42;};return _0xa4d4();}document['addEventListener'](_0x25944e(0xe6),()=>{const _0x178a49=_0x25944e;let _0x1420b1=document[_0x178a49(0x85)](_0x178a49(0x100)),_0x43edbf=document['getElementById']('accordionContent'),_0x43e43f=document['getElementById'](_0x178a49(0x89));_0x1420b1&&_0x43edbf&&_0x43e43f&&_0x1420b1[_0x178a49(0xa1)]('click',_0x15d9d2=>{const _0xb9ab77=_0x178a49;_0x15d9d2[_0xb9ab77(0x9f)](),_0x43edbf[_0xb9ab77(0xdf)]['toggle'](_0xb9ab77(0x88)),_0x43e43f[_0xb9ab77(0xda)][_0xb9ab77(0xfb)]=_0x43edbf['classList'][_0xb9ab77(0xb8)]('collapsed')?'rotate(-90deg)':_0xb9ab77(0xac);});}),document[_0x25944e(0xc1)](_0x25944e(0xec))[_0x25944e(0xa1)]('click',()=>{const _0x4db9cb=_0x25944e;let _0x3adc06=document['getElementById'](_0x4db9cb(0x86))[_0x4db9cb(0xd0)][_0x4db9cb(0xb1)](),_0x32bcb2=getYouTubeID(_0x3adc06);if(!_0x32bcb2)return alert('Invalid\x20YouTube\x20URL');player[_0x4db9cb(0x83)](_0x32bcb2);}),window['addEventListener'](_0x25944e(0xd4),()=>{const _0x5d8ad5=_0x25944e;map=L[_0x5d8ad5(0x99)](_0x5d8ad5(0x99))[_0x5d8ad5(0x8a)]([22.64,88.43],0xd),L[_0x5d8ad5(0xef)](_0x5d8ad5(0xe5),{'maxZoom':0x13})[_0x5d8ad5(0xb2)](map),rideMarker=L[_0x5d8ad5(0xa2)]([22.64,88.43])[_0x5d8ad5(0xb2)](map);}),document[_0x25944e(0xc1)](_0x25944e(0x8e))[_0x25944e(0xa1)]('click',()=>{const _0x15c91f=_0x25944e;let _0x3ec4f8=document['getElementById'](_0x15c91f(0xcf))[_0x15c91f(0x87)][0x0];if(!_0x3ec4f8)return alert(_0x15c91f(0xd5));let _0x5255c9=new FileReader();_0x5255c9['onload']=_0x32b851=>{const _0x22ac41=_0x15c91f;try{loadedGeoJSON=JSON['parse'](_0x32b851['target'][_0x22ac41(0xd6)]);let _0x46f092=[];if(_0x22ac41(0xa6)===loadedGeoJSON[_0x22ac41(0x104)])loadedGeoJSON['features']['forEach'](_0x2bfc41=>{const _0x1962c5=_0x22ac41;_0x2bfc41[_0x1962c5(0x91)]?.['type']==='LineString'&&(_0x46f092=_0x46f092[_0x1962c5(0xc7)](_0x2bfc41[_0x1962c5(0x91)][_0x1962c5(0x10d)][_0x1962c5(0x99)](_0x4aea10=>[_0x4aea10[0x1],_0x4aea10[0x0]])));});else{if('Feature'===loadedGeoJSON[_0x22ac41(0x104)]&&loadedGeoJSON['geometry']?.[_0x22ac41(0x104)]===_0x22ac41(0x101))_0x46f092=loadedGeoJSON[_0x22ac41(0x91)][_0x22ac41(0x10d)][_0x22ac41(0x99)](_0x187d7a=>[_0x187d7a[0x1],_0x187d7a[0x0]]);else{if('LineString'!==loadedGeoJSON[_0x22ac41(0x104)])return alert(_0x22ac41(0xc0));_0x46f092=loadedGeoJSON[_0x22ac41(0x10d)]['map'](_0x55fbce=>[_0x55fbce[0x1],_0x55fbce[0x0]]);}}if(!_0x46f092[_0x22ac41(0xea)])return alert('GeoJSON\x20contains\x20no\x20coordinates.');polyline&&map[_0x22ac41(0xf4)](polyline),polyline=L[_0x22ac41(0xed)](_0x46f092,{'color':_0x22ac41(0x10c)})[_0x22ac41(0xb2)](map),map[_0x22ac41(0xfa)](polyline['getBounds']()),rideMarker?rideMarker[_0x22ac41(0x102)]&&rideMarker[_0x22ac41(0x102)](_0x46f092[0x0]):rideMarker=L['marker'](_0x46f092[0x0],{'draggable':!0x0})[_0x22ac41(0xb2)](map),rideMarker&&_0x22ac41(0xa7)==typeof rideMarker[_0x22ac41(0xb9)]&&rideMarker[_0x22ac41(0xb9)](),linkedPoints=[],tempLandmarkMarker&&(map[_0x22ac41(0xf4)](tempLandmarkMarker),tempLandmarkMarker=null,tempLandmarkData=null),attachPolylineClick(),addStartEndMarkers(_0x46f092),console[_0x22ac41(0xcb)](_0x22ac41(0xa3));}catch(_0x2ebc22){console[_0x22ac41(0x95)](_0x2ebc22),alert(_0x22ac41(0x10e)+_0x2ebc22[_0x22ac41(0xde)]);}},_0x5255c9['readAsText'](_0x3ec4f8);}),document[_0x25944e(0xc1)]('exportData')[_0x25944e(0xa1)]('click',()=>{const _0x4aad13=_0x25944e;try{let _0x14d262={'linkedPoints':linkedPoints[_0x4aad13(0x99)](_0x5038ef=>({'time':_0x5038ef[_0x4aad13(0xf8)],'position':_0x5038ef[_0x4aad13(0xee)]})),'landmarks':landmarks['map'](_0x15c0c3=>({'time':_0x15c0c3[_0x4aad13(0xf8)],'lat':_0x15c0c3[_0x4aad13(0x9b)],'lon':_0x15c0c3[_0x4aad13(0xc8)],'description':_0x15c0c3[_0x4aad13(0x106)]})),'geojson':loadedGeoJSON,'startPosition':landmarks['length']?{'lat':landmarks[0x0]['lat'],'lon':landmarks[0x0][_0x4aad13(0xc8)],'time':0x0}:null},_0x111202=new Blob([JSON['stringify'](_0x14d262,null,0x2)],{'type':_0x4aad13(0xe7)}),_0x836d55=document[_0x4aad13(0x8b)]('a');_0x836d55['href']=URL[_0x4aad13(0xf7)](_0x111202),_0x836d55[_0x4aad13(0xfc)]=_0x4aad13(0xba),_0x836d55[_0x4aad13(0x82)]();}catch(_0xc93514){alert(_0x4aad13(0xfd)+_0xc93514[_0x4aad13(0xde)]);}}),document['getElementById'](_0x25944e(0x109))[_0x25944e(0xa1)](_0x25944e(0x82),async()=>{const _0x4967b3=_0x25944e;try{if(!loadedGeoJSON)return alert(_0x4967b3(0xbc));let _0x3d06d6=document[_0x4967b3(0xc1)](_0x4967b3(0x86))[_0x4967b3(0xd0)],_0x44ab72={'youtubeURL':_0x3d06d6,'linkedPoints':linkedPoints,'landmarks':landmarks,'geojson':loadedGeoJSON,'startPosition':landmarks['length']?{'lat':landmarks[0x0][_0x4967b3(0x9b)],'lon':landmarks[0x0][_0x4967b3(0xc8)],'time':0x0}:null},_0x242a18=JSON[_0x4967b3(0xf0)](_0x44ab72,null,0x2),_0x34baba=new Blob([_0x242a18],{'type':_0x4967b3(0xe7)}),_0x99fe22=document[_0x4967b3(0x8b)]('a');_0x99fe22[_0x4967b3(0xe4)]=URL['createObjectURL'](_0x34baba),_0x99fe22[_0x4967b3(0xfc)]=_0x4967b3(0xa0),_0x99fe22[_0x4967b3(0x82)](),alert('Project\x20saved\x20successfully!');}catch(_0xfcde0b){console[_0x4967b3(0x95)](_0x4967b3(0xb7),_0xfcde0b),alert(_0x4967b3(0x10a)+_0xfcde0b[_0x4967b3(0xde)]);}}),document[_0x25944e(0xc1)](_0x25944e(0xa9))[_0x25944e(0xa1)](_0x25944e(0x82),()=>{const _0x398141=_0x25944e;document[_0x398141(0xc1)]('projectFile')[_0x398141(0xd0)]='',document[_0x398141(0xc1)](_0x398141(0xbd))[_0x398141(0x82)]();}),document[_0x25944e(0xc1)](_0x25944e(0xbd))[_0x25944e(0xa1)](_0x25944e(0xa4),_0x46a6f4=>{const _0x427920=_0x25944e;let _0x569b62=_0x46a6f4[_0x427920(0xe2)][_0x427920(0x87)][0x0];if(!_0x569b62)return;let _0x4471c9=new FileReader();_0x4471c9['onload']=_0x1875ed=>{const _0x343872=_0x427920;try{let _0xee3892=JSON['parse'](_0x1875ed[_0x343872(0xe2)][_0x343872(0xd6)]);document['getElementById'](_0x343872(0x86))[_0x343872(0xd0)]=_0xee3892[_0x343872(0x86)]||'';let _0x4a6ace=getYouTubeID(_0xee3892[_0x343872(0x86)]);if(_0x4a6ace&&player?.['cueVideoById']&&player[_0x343872(0x83)](_0x4a6ace),landmarks=_0xee3892[_0x343872(0x8d)]||[],linkedPoints=_0xee3892['linkedPoints']||[],!(loadedGeoJSON=_0xee3892[_0x343872(0xd3)]||null))return alert(_0x343872(0xf1));polyline&&map[_0x343872(0xf4)](polyline);let _0x2750b7=extractLineCoords(loadedGeoJSON);polyline=L[_0x343872(0xed)](_0x2750b7,{'color':_0x343872(0x10c)})[_0x343872(0xb2)](map),map['fitBounds'](polyline[_0x343872(0xe9)]());let _0xee3ad5=_0x2750b7[0x0];landmarks['length']?_0xee3ad5=[landmarks[0x0][_0x343872(0x9b)],landmarks[0x0][_0x343872(0xc8)]]:linkedPoints['length']&&(_0xee3ad5=linkedPoints[0x0][_0x343872(0xee)]),rideMarker?rideMarker[_0x343872(0x102)]&&rideMarker[_0x343872(0x102)](_0xee3ad5):rideMarker=L[_0x343872(0xa2)](_0xee3ad5,{'draggable':!0x0})['addTo'](map),rideMarker&&'function'==typeof rideMarker[_0x343872(0xb9)]&&rideMarker[_0x343872(0xb9)](),tempLandmarkMarker&&(map[_0x343872(0xf4)](tempLandmarkMarker),tempLandmarkMarker=null,tempLandmarkData=null),attachPolylineClick(),addStartEndMarkers(_0x2750b7),rebuildLandmarks(),alert(_0x343872(0xb5));}catch(_0x54e346){console[_0x343872(0x95)](_0x54e346),alert(_0x343872(0x107)+_0x54e346[_0x343872(0xde)]);}},_0x4471c9[_0x427920(0xe8)](_0x569b62);}),document[_0x25944e(0xc1)](_0x25944e(0xf9))['addEventListener'](_0x25944e(0x82),()=>{const _0x380823=_0x25944e;if(!polyline)return alert(_0x380823(0xbc));let _0x49f6c8=polyline[_0x380823(0x93)]()[_0x380823(0xab)]()[_0x380823(0xdb)]();map[_0x380823(0xf4)](polyline),window[_0x380823(0xdc)]&&map['removeLayer'](startMarker),window[_0x380823(0x98)]&&map[_0x380823(0xf4)](endMarker),polyline=L[_0x380823(0xed)](_0x49f6c8,{'color':_0x380823(0x10c)})[_0x380823(0xb2)](map),map['fitBounds'](polyline[_0x380823(0xe9)]()),addStartEndMarkers(_0x49f6c8),rideMarker?rideMarker[_0x380823(0x102)]&&rideMarker[_0x380823(0x102)](_0x49f6c8[0x0]):rideMarker=L[_0x380823(0xa2)](_0x49f6c8[0x0],{'draggable':!0x0})[_0x380823(0xb2)](map),rideMarker&&_0x380823(0xa7)==typeof rideMarker[_0x380823(0xb9)]&&rideMarker[_0x380823(0xb9)](),linkedPoints=[],tempLandmarkMarker&&(map[_0x380823(0xf4)](tempLandmarkMarker),tempLandmarkMarker=null,tempLandmarkData=null);try{loadedGeoJSON&&(_0x380823(0xa6)===loadedGeoJSON[_0x380823(0x104)]?loadedGeoJSON[_0x380823(0xdd)]['forEach'](_0x536cca=>{const _0x4d5b4f=_0x380823;_0x536cca[_0x4d5b4f(0x91)]?.[_0x4d5b4f(0x104)]==='LineString'&&_0x536cca['geometry'][_0x4d5b4f(0x10d)][_0x4d5b4f(0xdb)]();}):loadedGeoJSON['geometry']?.[_0x380823(0x104)]===_0x380823(0x101)&&loadedGeoJSON['geometry'][_0x380823(0x10d)]['reverse']());}catch(_0x19944f){console[_0x380823(0xce)](_0x380823(0xff),_0x19944f);}console[_0x380823(0xcb)](_0x380823(0xa8));}),document['getElementById'](_0x25944e(0xb6))['addEventListener'](_0x25944e(0x82),()=>{const _0x5d3f6f=_0x25944e;if(!tempLandmarkMarker){alert(_0x5d3f6f(0xd7));return;}let _0x4dbacd=prompt('Enter\x20landmark\x20description\x20for\x20the\x20temporary\x20marker:');if(!_0x4dbacd){map[_0x5d3f6f(0xf4)](tempLandmarkMarker),tempLandmarkMarker=null,tempLandmarkData=null;return;}let _0x45d530={'time':tempLandmarkData[_0x5d3f6f(0xf8)],'lat':tempLandmarkData[_0x5d3f6f(0x9b)],'lon':tempLandmarkData[_0x5d3f6f(0xc8)],'description':_0x4dbacd};landmarks['push'](_0x45d530),landmarks[_0x5d3f6f(0x10b)]((_0x2b103f,_0x3e5158)=>_0x2b103f[_0x5d3f6f(0xf8)]-_0x3e5158[_0x5d3f6f(0xf8)]),map[_0x5d3f6f(0xf4)](tempLandmarkMarker),tempLandmarkMarker=null,tempLandmarkData=null,rebuildLandmarks();});