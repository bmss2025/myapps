function _0x817f(_0xe29ed1,_0x512a67){const _0x583784=_0x5837();return _0x817f=function(_0x817f0a,_0x1b488a){_0x817f0a=_0x817f0a-0x7f;let _0x2324b2=_0x583784[_0x817f0a];return _0x2324b2;},_0x817f(_0xe29ed1,_0x512a67);}const _0xcd4dda=_0x817f;(function(_0x40fdb,_0x45ed6c){const _0x37bcd0=_0x817f,_0x5112ac=_0x40fdb();while(!![]){try{const _0x19ee50=-parseInt(_0x37bcd0(0xcc))/0x1+-parseInt(_0x37bcd0(0xd9))/0x2*(parseInt(_0x37bcd0(0x93))/0x3)+-parseInt(_0x37bcd0(0xf0))/0x4*(parseInt(_0x37bcd0(0x87))/0x5)+-parseInt(_0x37bcd0(0xe0))/0x6*(-parseInt(_0x37bcd0(0x8b))/0x7)+-parseInt(_0x37bcd0(0xc9))/0x8+parseInt(_0x37bcd0(0xd5))/0x9*(parseInt(_0x37bcd0(0xaa))/0xa)+parseInt(_0x37bcd0(0xa7))/0xb;if(_0x19ee50===_0x45ed6c)break;else _0x5112ac['push'](_0x5112ac['shift']());}catch(_0xf2591f){_0x5112ac['push'](_0x5112ac['shift']());}}}(_0x5837,0xd1b24));let player,map,polyline,rideMarker,linkedPoints=[],landmarks=[],loadedGeoJSON=null;const markerList=document[_0xcd4dda(0xa5)](_0xcd4dda(0x84));function _0x5837(){const _0x48fab8=['LineString','63306piJsyo','onclick','collapsed','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20landmark?','Error\x20loading\x20project:\x20','Edit\x20landmark\x20description:','.lm-label','polyline','Invalid\x20YouTube\x20URL','match','message','blue','setLatLng','addTo','Could\x20not\x20save\x20project:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22lm-label\x22>','6088rEmVkB','download','loadGeoJSON','endMarker','position','markerTableBody','</span></td>\x0a\x20\x20\x20\x20\x20\x20<td>(','features',')</td>\x0a\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22actionBtn\x20editBtn\x22><i\x20class=\x22fa-solid\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22actionBtn\x20deleteBtn\x22><i\x20class=\x22fa-solid\x20fa-trash-can\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20','load','click','markerList','geojson','createElement','3235RmRuud','application/json','marker','_markerRef','924BLUfSs','.accordion-title','textContent','Please\x20select\x20a\x20GeoJSON\x20file.','classList','Feature','toFixed','Load\x20a\x20polyline\x20first!','6BEieqq','rotate(-90deg)','forEach','style','fitBounds','Error\x20reading\x20GeoJSON:\x20','onload','stringify','getBounds','lat','parse','error','https://maps.google.com/mapfiles/ms/icons/red-dot.png','timestamp_project.json','removeLayer','target','\x0a\x20\x20\x20\x20\x20\x20<td>','contains','getElementById','geometry','29348671rpfeme','value','Project\x20saved\x20successfully!','15230fWbyEf','player','divIcon','DOMContentLoaded','loadProject','cueVideoById','geojsonFile','youtubeURL','toggle','trim','href','chevron','type','rotate(0deg)','filter','<div\x20class=\x22marker-circle\x20start\x22>S</div>','<div\x20class=\x22marker-circle\x20end\x22>E</div>','result','bindPopup','find','map','Invalid\x20GeoJSON\x20format.\x20Must\x20contain\x20a\x20LineString.','stopPropagation','querySelector','change','innerHTML','readAsText','addEventListener','640','transform','.editBtn','8391296ZVezYk','coordinates','custom-marker\x20start-icon','430682HIUUAV','linkedPoints','.deleteBtn','setView','Project\x20loaded\x20successfully!','time','lon','createObjectURL','360','1035MGjOiR','projectFile','length','files','912694pTWzoM','FeatureCollection','startMarker','landmarks','description','custom-marker\x20end-icon'];_0x5837=function(){return _0x48fab8;};return _0x5837();}function onYouTubeIframeAPIReady(){const _0x3e23c9=_0xcd4dda;player=new YT['Player'](_0x3e23c9(0xab),{'height':_0x3e23c9(0xd4),'width':_0x3e23c9(0xc6),'videoId':'','playerVars':{'autoplay':0x0,'controls':0x1,'rel':0x0,'modestbranding':0x1}});}function getYouTubeID(_0x13217f){const _0x231218=_0xcd4dda;let _0x335563=_0x13217f[_0x231218(0xe9)](/(?:v=|\/)([0-9A-Za-z_-]{11})(?:\?|&|$)/);return _0x335563?_0x335563[0x1]:null;}function extractLineCoords(_0x37ea5a){const _0x27591f=_0xcd4dda;let _0x3f103c=[];if(_0x37ea5a?.[_0x27591f(0xb6)]===_0x27591f(0xda)){let _0x5d910c=_0x37ea5a[_0x27591f(0x80)][_0x27591f(0xbd)](_0x56b682=>_0x56b682[_0x27591f(0xa6)]?.[_0x27591f(0xb6)]===_0x27591f(0xdf));_0x5d910c&&(_0x3f103c=_0x5d910c[_0x27591f(0xa6)][_0x27591f(0xca)][_0x27591f(0xbe)](_0x51cb6a=>[_0x51cb6a[0x1],_0x51cb6a[0x0]]));}else _0x37ea5a?.[_0x27591f(0xb6)]===_0x27591f(0x90)&&_0x37ea5a[_0x27591f(0xa6)]?.[_0x27591f(0xb6)]===_0x27591f(0xdf)?_0x3f103c=_0x37ea5a[_0x27591f(0xa6)][_0x27591f(0xca)]['map'](_0x8b4068=>[_0x8b4068[0x1],_0x8b4068[0x0]]):_0x37ea5a?.[_0x27591f(0xb6)]===_0x27591f(0xdf)&&(_0x3f103c=_0x37ea5a['coordinates'][_0x27591f(0xbe)](_0x21fc8b=>[_0x21fc8b[0x1],_0x21fc8b[0x0]]));return _0x3f103c;}function addStartEndMarkers(_0x10422e){const _0x1a525f=_0xcd4dda;window[_0x1a525f(0xdb)]&&map[_0x1a525f(0xa1)](startMarker),window['endMarker']&&map['removeLayer'](endMarker);let _0x16749d=L[_0x1a525f(0xac)]({'className':_0x1a525f(0xcb),'html':_0x1a525f(0xb9),'iconSize':[0x14,0x14],'iconAnchor':[0xa,0xa]}),_0x50aa0e=L['divIcon']({'className':_0x1a525f(0xde),'html':_0x1a525f(0xba),'iconSize':[0x14,0x14],'iconAnchor':[0xa,0xa]});window['startMarker']=L[_0x1a525f(0x89)](_0x10422e[0x0],{'icon':_0x16749d})[_0x1a525f(0xed)](map),window[_0x1a525f(0xf3)]=L[_0x1a525f(0x89)](_0x10422e[_0x10422e[_0x1a525f(0xd7)]-0x1],{'icon':_0x50aa0e})[_0x1a525f(0xed)](map);}function rebuildLandmarks(){const _0x244978=_0xcd4dda;let _0x955689=document[_0x244978(0xa5)](_0x244978(0xf5));_0x955689['innerHTML']='',map['eachLayer'](_0xd17490=>{const _0x19624a=_0x244978;let _0x5cb7e0=_0xd17490['_icon']&&_0xd17490['options']['icon']?.['options']?.['iconUrl']===_0x19624a(0x9f);_0x5cb7e0&&map['removeLayer'](_0xd17490);}),landmarks[_0x244978(0x95)]((_0xed9e7b,_0x586cbe)=>{const _0x382eb9=_0x244978;let _0x3e95e8=L[_0x382eb9(0x89)]([_0xed9e7b['lat'],_0xed9e7b['lon']],{'icon':L['icon']({'iconUrl':_0x382eb9(0x9f)})})[_0x382eb9(0xed)](map)[_0x382eb9(0xbc)](_0xed9e7b[_0x382eb9(0xdd)]||''),_0x87de63=document[_0x382eb9(0x86)]('tr');_0x87de63[_0x382eb9(0xc3)]=_0x382eb9(0xa3)+_0xed9e7b[_0x382eb9(0xd1)][_0x382eb9(0x91)](0x2)+_0x382eb9(0xef)+_0xed9e7b[_0x382eb9(0xdd)]+_0x382eb9(0x7f)+_0xed9e7b[_0x382eb9(0x9c)][_0x382eb9(0x91)](0x5)+',\x20'+_0xed9e7b[_0x382eb9(0xd2)][_0x382eb9(0x91)](0x5)+_0x382eb9(0x81),_0x87de63[_0x382eb9(0x8a)]=_0x3e95e8,_0x87de63[_0x382eb9(0xc1)](_0x382eb9(0xce))['onclick']=()=>{const _0xc18fe3=_0x382eb9;let _0x36337e=confirm(_0xc18fe3(0xe3));_0x36337e&&(map[_0xc18fe3(0xa1)](_0x3e95e8),landmarks=landmarks[_0xc18fe3(0xb8)](_0x468766=>!(_0x468766[_0xc18fe3(0xd1)]===_0xed9e7b[_0xc18fe3(0xd1)]&&_0x468766[_0xc18fe3(0x9c)]===_0xed9e7b[_0xc18fe3(0x9c)]&&_0x468766[_0xc18fe3(0xd2)]===_0xed9e7b[_0xc18fe3(0xd2)])),rebuildLandmarks());},_0x87de63['querySelector'](_0x382eb9(0xc8))[_0x382eb9(0xe1)]=()=>{const _0x4e5581=_0x382eb9;let _0x2111d1=prompt(_0x4e5581(0xe5),_0xed9e7b['description']);_0x2111d1&&(_0xed9e7b[_0x4e5581(0xdd)]=_0x2111d1,_0x3e95e8['setPopupContent'](_0x2111d1),_0x87de63[_0x4e5581(0xc1)](_0x4e5581(0xe6))[_0x4e5581(0x8d)]=_0x2111d1);},_0x955689['appendChild'](_0x87de63);});}document[_0xcd4dda(0xc5)](_0xcd4dda(0xad),()=>{const _0x2fd88e=_0xcd4dda;let _0x3e22cf=document['querySelector'](_0x2fd88e(0x8c)),_0x1dd970=document['getElementById']('accordionContent'),_0x154172=document[_0x2fd88e(0xa5)](_0x2fd88e(0xb5));_0x3e22cf&&_0x1dd970&&_0x154172&&_0x3e22cf['addEventListener'](_0x2fd88e(0x83),_0x4e2901=>{const _0x2aeb10=_0x2fd88e;_0x4e2901[_0x2aeb10(0xc0)](),_0x1dd970[_0x2aeb10(0x8f)][_0x2aeb10(0xb2)](_0x2aeb10(0xe2)),_0x154172[_0x2aeb10(0x96)][_0x2aeb10(0xc7)]=_0x1dd970[_0x2aeb10(0x8f)][_0x2aeb10(0xa4)](_0x2aeb10(0xe2))?_0x2aeb10(0x94):_0x2aeb10(0xb7);});}),document[_0xcd4dda(0xa5)]('loadVideo')['addEventListener'](_0xcd4dda(0x83),()=>{const _0x19f0ca=_0xcd4dda;let _0x187240=document[_0x19f0ca(0xa5)](_0x19f0ca(0xb1))['value'][_0x19f0ca(0xb3)](),_0x5c9244=getYouTubeID(_0x187240);if(!_0x5c9244)return alert(_0x19f0ca(0xe8));player[_0x19f0ca(0xaf)](_0x5c9244);}),window[_0xcd4dda(0xc5)](_0xcd4dda(0x82),()=>{const _0x2b4321=_0xcd4dda;map=L[_0x2b4321(0xbe)](_0x2b4321(0xbe))[_0x2b4321(0xcf)]([22.64,88.43],0xd),L['tileLayer']('https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}',{'maxZoom':0x13})[_0x2b4321(0xed)](map),rideMarker=L[_0x2b4321(0x89)]([22.64,88.43])[_0x2b4321(0xed)](map);}),document[_0xcd4dda(0xa5)](_0xcd4dda(0xf2))['addEventListener'](_0xcd4dda(0x83),()=>{const _0x2dd27a=_0xcd4dda;let _0x41a747=document[_0x2dd27a(0xa5)](_0x2dd27a(0xb0))[_0x2dd27a(0xd8)][0x0];if(!_0x41a747)return alert(_0x2dd27a(0x8e));let _0x63bc9f=new FileReader();_0x63bc9f[_0x2dd27a(0x99)]=_0x523890=>{const _0x2a9e0e=_0x2dd27a;try{loadedGeoJSON=JSON[_0x2a9e0e(0x9d)](_0x523890[_0x2a9e0e(0xa2)]['result']);let _0x7882a8=[];if(_0x2a9e0e(0xda)===loadedGeoJSON['type'])loadedGeoJSON['features'][_0x2a9e0e(0x95)](_0x3d8b97=>{const _0x2279e2=_0x2a9e0e;_0x3d8b97[_0x2279e2(0xa6)]?.[_0x2279e2(0xb6)]===_0x2279e2(0xdf)&&(_0x7882a8=_0x7882a8['concat'](_0x3d8b97[_0x2279e2(0xa6)][_0x2279e2(0xca)][_0x2279e2(0xbe)](_0x225ade=>[_0x225ade[0x1],_0x225ade[0x0]])));});else{if(_0x2a9e0e(0x90)===loadedGeoJSON[_0x2a9e0e(0xb6)]&&loadedGeoJSON['geometry']?.[_0x2a9e0e(0xb6)]===_0x2a9e0e(0xdf))_0x7882a8=loadedGeoJSON[_0x2a9e0e(0xa6)][_0x2a9e0e(0xca)]['map'](_0x518103=>[_0x518103[0x1],_0x518103[0x0]]);else{if(_0x2a9e0e(0xdf)!==loadedGeoJSON['type'])return alert(_0x2a9e0e(0xbf));_0x7882a8=loadedGeoJSON[_0x2a9e0e(0xca)][_0x2a9e0e(0xbe)](_0x3b366=>[_0x3b366[0x1],_0x3b366[0x0]]);}}polyline&&map[_0x2a9e0e(0xa1)](polyline),polyline=L[_0x2a9e0e(0xe7)](_0x7882a8,{'color':_0x2a9e0e(0xeb)})['addTo'](map),map[_0x2a9e0e(0x97)](polyline[_0x2a9e0e(0x9b)]()),rideMarker?rideMarker[_0x2a9e0e(0xec)](_0x7882a8[0x0]):rideMarker=L[_0x2a9e0e(0x89)](_0x7882a8[0x0])[_0x2a9e0e(0xed)](map),attachPolylineClick(),addStartEndMarkers(_0x7882a8);}catch(_0x49a85d){console['error'](_0x49a85d),alert(_0x2a9e0e(0x98)+_0x49a85d[_0x2a9e0e(0xea)]);}},_0x63bc9f[_0x2dd27a(0xc4)](_0x41a747);}),document[_0xcd4dda(0xa5)]('exportData')[_0xcd4dda(0xc5)](_0xcd4dda(0x83),()=>{const _0x43a9da=_0xcd4dda;try{let _0x19caf7={'linkedPoints':linkedPoints['map'](_0x134e7f=>({'time':_0x134e7f[_0x43a9da(0xd1)],'position':_0x134e7f[_0x43a9da(0xf4)]})),'landmarks':landmarks[_0x43a9da(0xbe)](_0x2f8f5=>({'time':_0x2f8f5[_0x43a9da(0xd1)],'lat':_0x2f8f5[_0x43a9da(0x9c)],'lon':_0x2f8f5['lon'],'description':_0x2f8f5[_0x43a9da(0xdd)]})),'geojson':loadedGeoJSON},_0x598bcb=new Blob([JSON[_0x43a9da(0x9a)](_0x19caf7,null,0x2)],{'type':_0x43a9da(0x88)}),_0x12eaba=document[_0x43a9da(0x86)]('a');_0x12eaba[_0x43a9da(0xb4)]=URL[_0x43a9da(0xd3)](_0x598bcb),_0x12eaba[_0x43a9da(0xf1)]='video_polyline_data.json',_0x12eaba[_0x43a9da(0x83)]();}catch(_0x45c5be){alert('Could\x20not\x20export\x20JSON:\x20'+_0x45c5be[_0x43a9da(0xea)]);}}),document['getElementById']('saveProject')['addEventListener'](_0xcd4dda(0x83),async()=>{const _0x510589=_0xcd4dda;try{if(!loadedGeoJSON)return alert(_0x510589(0x92));let _0x46a076=document['getElementById'](_0x510589(0xb1))[_0x510589(0xa8)],_0x9ef801={'youtubeURL':_0x46a076,'linkedPoints':linkedPoints,'landmarks':landmarks,'geojson':loadedGeoJSON},_0x4c49da=JSON[_0x510589(0x9a)](_0x9ef801,null,0x2),_0x446106=new Blob([_0x4c49da],{'type':_0x510589(0x88)}),_0xc849cd=document[_0x510589(0x86)]('a');_0xc849cd[_0x510589(0xb4)]=URL[_0x510589(0xd3)](_0x446106),_0xc849cd[_0x510589(0xf1)]=_0x510589(0xa0),_0xc849cd[_0x510589(0x83)](),alert(_0x510589(0xa9));}catch(_0x2c591a){console[_0x510589(0x9e)]('Save\x20error:',_0x2c591a),alert(_0x510589(0xee)+_0x2c591a[_0x510589(0xea)]);}}),document[_0xcd4dda(0xa5)](_0xcd4dda(0xae))[_0xcd4dda(0xc5)](_0xcd4dda(0x83),()=>{const _0x4fefda=_0xcd4dda;document[_0x4fefda(0xa5)](_0x4fefda(0xd6))[_0x4fefda(0x83)]();}),document['getElementById'](_0xcd4dda(0xd6))[_0xcd4dda(0xc5)](_0xcd4dda(0xc2),_0x57086f=>{const _0xe508ab=_0xcd4dda;let _0x330ccb=_0x57086f[_0xe508ab(0xa2)]['files'][0x0];if(!_0x330ccb)return;let _0x477d31=new FileReader();_0x477d31[_0xe508ab(0x99)]=_0x1baf01=>{const _0x54c255=_0xe508ab;try{let _0x30a6b7=JSON['parse'](_0x1baf01['target'][_0x54c255(0xbb)]);document[_0x54c255(0xa5)]('youtubeURL')[_0x54c255(0xa8)]=_0x30a6b7[_0x54c255(0xb1)]||'';let _0x5eecdb=getYouTubeID(_0x30a6b7[_0x54c255(0xb1)]);_0x5eecdb&&player?.[_0x54c255(0xaf)]&&player[_0x54c255(0xaf)](_0x5eecdb),linkedPoints=_0x30a6b7[_0x54c255(0xcd)]||[],landmarks=_0x30a6b7[_0x54c255(0xdc)]||[],loadedGeoJSON=_0x30a6b7[_0x54c255(0x85)]||null,polyline&&map[_0x54c255(0xa1)](polyline);let _0x3c27e6=extractLineCoords(loadedGeoJSON);polyline=L[_0x54c255(0xe7)](_0x3c27e6,{'color':'blue'})[_0x54c255(0xed)](map),map[_0x54c255(0x97)](polyline[_0x54c255(0x9b)]()),attachPolylineClick(),addStartEndMarkers(_0x3c27e6),rebuildLandmarks(),alert(_0x54c255(0xd0));}catch(_0x5f1c2e){console[_0x54c255(0x9e)](_0x5f1c2e),alert(_0x54c255(0xe4)+_0x5f1c2e[_0x54c255(0xea)]);}},_0x477d31['readAsText'](_0x330ccb);});