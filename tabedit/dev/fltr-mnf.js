!function(){let e=null,t=[];function l(e){return null==e||""===(e=String(e).replace(/\u00A0/g," ").replace(/,/g,"").trim().toLowerCase())||""===(e=(e=e.replace(/\s*km²$/g,"").replace(/\s*km2$/g,"").replace(/\s*km$/g,"").replace(/\s*sq\.?\s*km$/g,"").replace(/\s*sqkm$/g,"").replace(/\s*m$/g,"")).trim())?NaN:parseFloat(e)}function r(e){if(!e)return!1;let t=String(e).trim().toLowerCase();return""!==t&&!!/^[-+]?\d+(\.\d+)?\s*(km|km2|km²|sq ?km|sq\. ?km|sqkm|m)?$/.test(t)&&!isNaN(l(t))}function n(e){return!!e&&(e=String(e).trim().toLowerCase(),/^https?:\/\//.test(e)||/^www\./.test(e)||/\.(com|org|net|io|gov|edu)(\/|$)/.test(e))}function i(){let e=document.querySelector("#tableContainer table");if(!e)return;let r=e.querySelectorAll("tbody tr");r.forEach(e=>{let r=!0;for(let n of t){let i=e.children[n.col],a=i?(i.textContent||i.innerText||"").trim():"";if("text"===n.type){let p=n.el.value.trim().toLowerCase();if(p&&!a.toLowerCase().includes(p)){r=!1;break}}else if("numeric"===n.type){let o=n.minEl.value.trim(),s=n.maxEl.value.trim(),d=""!==o,c=""!==s;if(!d&&!c)continue;let u=l(a);if(isNaN(u)||d&&u<Number(o)||c&&u>Number(s)){r=!1;break}}}e.style.display=r?"":"none"})}window.fltr_build=function a(){let p=document.getElementById("tableContainer");if(!p)return;let o=p.querySelector("table");if(!o)return;let s=o.querySelector("thead"),d=o.querySelectorAll("tbody tr");if(!s||0===d.length)return;let c=[...s.querySelectorAll("th")];document.querySelectorAll("#fltrControls").forEach(e=>e.remove()),t=[],(e=document.createElement("div")).id="fltrControls",e.style.display="flex",e.style.flexWrap="wrap",e.style.gap="6px",e.style.padding="10px",e.style.border="1px solid #ddd",e.style.background="#eaeaea",p.prepend(e);let u=document.createElement("button");u.type="button",u.textContent="Apply Filters",u.style.padding="6px 12px",u.style.cursor="pointer",u.style.fontSize="12px",u.addEventListener("click",i),e.appendChild(u),c.forEach((i,a)=>{let p=i.innerText.trim();if(!p)return;let o=[...d].map(e=>{let t=e.children[a];return t?(t.textContent||t.innerText||"").trim():""});if(o.some(n))return;let s=o.filter(e=>""!==e);if(0===s.length)return;let c=s.every(r),u=document.createElement("div");u.style.display="flex",u.style.flexDirection="column",u.style.width="170px";let y=document.createElement("label");if(y.style.fontSize="12px",y.style.fontWeight="600",y.textContent=p,u.appendChild(y),c){let m=o.map(e=>l(e)).filter(e=>!isNaN(e)),f=m.length?Math.min(...m):"",x=m.length?Math.max(...m):"",h=document.createElement("div");h.style.display="flex",h.style.gap="4px";let g=document.createElement("input");g.type="number",g.placeholder="Min",g.style.padding="4px",g.style.border="1px solid #ccc",g.style.width="70px",g.value=""!==f?f:"",g.defaultValue=""!==f?f:"";let C=document.createElement("input");C.type="number",C.placeholder="Max",C.style.padding="4px",C.style.border="1px solid #ccc",C.style.width="70px",C.value=""!==x?x:"",C.defaultValue=""!==x?x:"",h.appendChild(g),h.appendChild(C),u.appendChild(h),t.push({type:"numeric",col:a,minEl:g,maxEl:C})}else{let b=document.createElement("input");b.type="text",b.placeholder="contains...",b.style.padding="4px",b.style.border="1px solid #ccc",b.style.width="150px",u.appendChild(b),t.push({type:"text",col:a,el:b})}e.appendChild(u)})}}();