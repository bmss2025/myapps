<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SyncView</title>

  <!-- External Libraries -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="svstyle_mnf.css" />
</head>
<body>

  <div id="mainContainer">
    <!-- === VIDEO SECTION === -->
    <div id="videoSection">
      <details open>
        <summary>Instructions & Guide</summary>
        <div class="accordion-content">
          <p>1. Enter a YouTube video ID (example: <code>zbNuGhDPaX0</code>).<br>
          2. Upload your route JSON file containing <code>geojson</code> and <code>linkedPoints</code><br><code>  Download the demo <a href="https://bishnupriyamanipurisahityasabha.com/aShiv/downloads/demo_syncview.zip" download>polyline_oldcbd.json</a> for the current video.</code><br>
          3. Click “Load Project” to visualize the route synced with the video playback.<br>
          4. Click on the red path on the map to jump to that part of the video.<br>
          5. <strong>Pause the video</strong> to freely pan or explore the map manually.</p>
        </div>
      </details>

      <div id="videoContainer">
        <div id="player"></div>
		<div id="labelDisplay"></div>
      </div>
	    
    </div>

    <!-- === MAP SECTION === -->
    <div id="mapSection">
      <details open>
        <summary>Map & Video Controls</summary>
        <div class="accordion-content" id="controlPanel">
          <label>Video ID:</label>
          <input type="text" id="videoIdInput" placeholder="e.g. zbNuGhDPaX0" value="zbNuGhDPaX0">
          <label for="jsonFileInput" class="button-like">Load JSON</label>
          <input type="file" id="jsonFileInput" accept=".json" hidden>
          <span id="fileNameDisplay" class="file-name">No file selected</span>
          <button id="loadBtn">Load Project</button>
		  <button id="recordMapBtn">R</button>
          <button id="stopRecordMapBtn" disabled>S</button>
        </div>
		<div class="spacer-20"></div>
      </details>

      <div id="map"></div>
    </div>
  </div>

  <!-- External Libraries -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.4/dist/ffmpeg.min.js"></script>

  <!-- Custom JS -->
  <script src="svscript_obf.js"></script>
  <script src="svrec_obf.js"></script>
</body>
</html>
