const _0x31c0bb=_0x2b6d;(function(_0x5dc2b7,_0x52d83){const _0x46ed89=_0x2b6d,_0x2b0cd4=_0x5dc2b7();while(!![]){try{const _0xe633af=parseInt(_0x46ed89(0x18e))/0x1+-parseInt(_0x46ed89(0x1be))/0x2+parseInt(_0x46ed89(0x196))/0x3*(-parseInt(_0x46ed89(0x195))/0x4)+parseInt(_0x46ed89(0x18f))/0x5*(-parseInt(_0x46ed89(0x19b))/0x6)+-parseInt(_0x46ed89(0x197))/0x7*(parseInt(_0x46ed89(0x1b5))/0x8)+parseInt(_0x46ed89(0x183))/0x9+parseInt(_0x46ed89(0x1b1))/0xa;if(_0xe633af===_0x52d83)break;else _0x2b0cd4['push'](_0x2b0cd4['shift']());}catch(_0xb7df77){_0x2b0cd4['push'](_0x2b0cd4['shift']());}}}(_0x48b9,0x61d70));let player,map,routeCoords=[],cumulativeDist=[],timePoints=[],landmarks=[],loadedData=null,videoId=null,autoPanEnabled=!0x0,initialDist=0x0,initialPos=null,marker=null;function loadYouTubePlayer(_0x21cc47){const _0x291a87=_0x2b6d;player&&player[_0x291a87(0x1b2)](),player=new YT['Player'](_0x291a87(0x19a),{'width':_0x291a87(0x17c),'height':_0x291a87(0x17c),'videoId':_0x21cc47,'playerVars':{'controls':0x1},'events':{'onReady':onPlayerReady}});}function _0x2b6d(_0x334f41,_0x513667){const _0x48b9b7=_0x48b9();return _0x2b6d=function(_0x2b6d45,_0x1c0fd2){_0x2b6d45=_0x2b6d45-0x17c;let _0x41e018=_0x48b9b7[_0x2b6d45];return _0x41e018;},_0x2b6d(_0x334f41,_0x513667);}function _0x48b9(){const _0x1cdcb7=['addEventListener','description','number','style','246648sSBggy','5JurqMe','divIcon','sort','dist','PlayerState','Label\x20update\x20failed:','4emhmzq','310251LbfTlK','6307ojlMDH','frac','setView','player','2229330lzyQGY','getCurrentTime','features','distance','coordinates','jsonFileInput','startPosition','min','abs','name','text','#fff','trim','lon','linkedPoints','panTo','point','lat','bindTooltip','value','position','addTo','9207630neHJEA','destroy','max','circleMarker','2384TQNRTf','map','lng','warn','opacity','geojson','data','fileNameDisplay','length','314912LgYmIl','push','<div\x20class=\x22car-marker\x22><i\x20class=\x22fa-solid\x20fa-car-side\x22></i></div>','textContent','time','#ccc','labelDisplay','files','find','No\x20file\x20selected','remove','loadBtn','PLAYING','Please\x20select\x20a\x20JSON\x20file.','100%','tileLayer','getElementById','click','https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}','red','Please\x20enter\x20a\x20YouTube\x20video\x20ID.','1208403HtlGXv','setLatLng','innerText','polyline','sqrt','PAUSED','latlng'];_0x48b9=function(){return _0x1cdcb7;};return _0x48b9();}function onPlayerReady(_0x1057ee){const _0x4522e5=_0x2b6d;setupVisualization();try{updateLabel(player[_0x4522e5(0x19c)]());}catch(_0x4e2023){console[_0x4522e5(0x1b8)](_0x4522e5(0x194),_0x4e2023);}requestAnimationFrame(syncMarker),player[_0x4522e5(0x18a)]('onStateChange',_0x3aaff3=>{const _0x43af60=_0x4522e5;_0x3aaff3[_0x43af60(0x1bb)]===YT[_0x43af60(0x193)][_0x43af60(0x1ca)]?autoPanEnabled=!0x0:_0x3aaff3[_0x43af60(0x1bb)]===YT[_0x43af60(0x193)][_0x43af60(0x188)]&&(autoPanEnabled=!0x1);});}function initMap(){const _0x2a8923=_0x2b6d;map=L['map'](_0x2a8923(0x1b6))['setView']([22.646,88.433],0xd),L[_0x2a8923(0x17d)](_0x2a8923(0x180),{'maxZoom':0x13})[_0x2a8923(0x1b0)](map);}function loadData(_0x2807e9){const _0x1112b9=_0x2b6d;let _0x2674b4=_0x2807e9[_0x1112b9(0x1ba)][_0x1112b9(0x19d)][0x0]['geometry'][_0x1112b9(0x19f)];routeCoords=_0x2674b4[_0x1112b9(0x1b6)](_0x21ece1=>[_0x21ece1[0x1],_0x21ece1[0x0]]),cumulativeDist=[0x0];for(let _0xf363db=0x1;_0xf363db<routeCoords['length'];_0xf363db++){let _0x32346f=map[_0x1112b9(0x19e)](routeCoords[_0xf363db-0x1],routeCoords[_0xf363db]);cumulativeDist[_0x1112b9(0x1bf)](cumulativeDist[_0xf363db-0x1]+_0x32346f);}if((timePoints=(_0x2807e9[_0x1112b9(0x1a9)]||[])[_0x1112b9(0x1b6)](_0x122706=>({'time':Number(_0x122706['time']),'lat':_0x122706[_0x1112b9(0x1af)][0x0],'lon':_0x122706[_0x1112b9(0x1af)][0x1],'dist':findNearestDistanceOnRoute([_0x122706[_0x1112b9(0x1af)][0x0],_0x122706[_0x1112b9(0x1af)][0x1]])})))[_0x1112b9(0x191)]((_0x341ae7,_0x4d962e)=>_0x341ae7[_0x1112b9(0x1c2)]-_0x4d962e['time']),(landmarks=_0x2807e9['landmarks']||[])[_0x1112b9(0x1bd)]>0x0&&timePoints[_0x1112b9(0x1bd)]>0x0){let _0x1fe28c=landmarks[0x0],_0x5c65ee=findNearestPointOnRoute([_0x1fe28c['lat'],_0x1fe28c[_0x1112b9(0x1a8)]]);timePoints[0x0][_0x1112b9(0x192)]=_0x5c65ee[_0x1112b9(0x192)],timePoints[0x0][_0x1112b9(0x1c2)]=_0x1fe28c[_0x1112b9(0x1c2)];}_0x2807e9[_0x1112b9(0x1a1)]?initialDist=findNearestDistanceOnRoute(initialPos=[_0x2807e9[_0x1112b9(0x1a1)][_0x1112b9(0x1ac)],_0x2807e9[_0x1112b9(0x1a1)][_0x1112b9(0x1a8)]]):landmarks[_0x1112b9(0x1bd)]>0x0?initialDist=findNearestDistanceOnRoute(initialPos=[landmarks[0x0][_0x1112b9(0x1ac)],landmarks[0x0][_0x1112b9(0x1a8)]]):timePoints[_0x1112b9(0x1bd)]>0x0?(initialPos=[timePoints[0x0][_0x1112b9(0x1ac)],timePoints[0x0][_0x1112b9(0x1a8)]],initialDist=timePoints[0x0][_0x1112b9(0x192)]):(initialPos=routeCoords[0x0],initialDist=0x0);}function findNearestDistanceOnRoute(_0x4ba51d){const _0x25e04e=_0x2b6d;let [_0x3507d5,_0x586108]=_0x4ba51d,_0x275cb9=0x1/0x0,_0x37b9e3=0x0;for(let _0x2257e6=0x1;_0x2257e6<routeCoords['length'];_0x2257e6++){let _0xa1e7cb=routeCoords[_0x2257e6-0x1],_0x51b161=routeCoords[_0x2257e6],_0x44d37a=pointToSegmentDistance([_0x3507d5,_0x586108],_0xa1e7cb,_0x51b161);_0x44d37a[_0x25e04e(0x192)]<_0x275cb9&&(_0x275cb9=_0x44d37a[_0x25e04e(0x192)],_0x37b9e3=cumulativeDist[_0x2257e6-0x1]+_0x44d37a['frac']*(cumulativeDist[_0x2257e6]-cumulativeDist[_0x2257e6-0x1]));}return _0x37b9e3;}function findNearestPointOnRoute(_0x5c97d2){const _0x5e4e28=_0x2b6d;let [_0x1e9294,_0xd560b1]=_0x5c97d2,_0x55ca64=0x1/0x0,_0x164962=routeCoords[0x0],_0x1be44f=0x0;for(let _0x275cbd=0x1;_0x275cbd<routeCoords[_0x5e4e28(0x1bd)];_0x275cbd++){let _0x4a603e=routeCoords[_0x275cbd-0x1],_0x24dd59=routeCoords[_0x275cbd],_0x34111d=pointToSegmentDistance([_0x1e9294,_0xd560b1],_0x4a603e,_0x24dd59);if(_0x34111d['dist']<_0x55ca64){_0x55ca64=_0x34111d[_0x5e4e28(0x192)];let _0x3c6095=_0x4a603e[0x0]+_0x34111d[_0x5e4e28(0x198)]*(_0x24dd59[0x0]-_0x4a603e[0x0]),_0x99ff57=_0x4a603e[0x1]+_0x34111d['frac']*(_0x24dd59[0x1]-_0x4a603e[0x1]);_0x164962=[_0x3c6095,_0x99ff57],_0x1be44f=cumulativeDist[_0x275cbd-0x1]+_0x34111d[_0x5e4e28(0x198)]*(cumulativeDist[_0x275cbd]-cumulativeDist[_0x275cbd-0x1]);}}return{'point':_0x164962,'dist':_0x1be44f};}function pointToSegmentDistance(_0x3724f4,_0x1b3bcd,_0x2ab2a1){const _0x6adb3b=_0x2b6d;let _0x1c607d=_0x3724f4[0x1],_0x2da077=_0x3724f4[0x0],_0x315b1a=_0x1b3bcd[0x1],_0x4a2357=_0x1b3bcd[0x0],_0x116de3=_0x2ab2a1[0x1],_0x329750=_0x2ab2a1[0x0],_0x36a436=_0x116de3-_0x315b1a,_0x3eb88e=_0x329750-_0x4a2357,_0x258b22=Math[_0x6adb3b(0x1b3)](0x0,Math[_0x6adb3b(0x1a2)](0x1,((_0x1c607d-_0x315b1a)*_0x36a436+(_0x2da077-_0x4a2357)*_0x3eb88e)/(_0x36a436*_0x36a436+_0x3eb88e*_0x3eb88e)));return{'dist':0x1b2d8*Math[_0x6adb3b(0x187)]((_0x1c607d-(_0x315b1a+_0x258b22*_0x36a436))**0x2+(_0x2da077-(_0x4a2357+_0x258b22*_0x3eb88e))**0x2),'frac':_0x258b22};}function getPositionAtDistance(_0x47ffc3){const _0x500861=_0x2b6d;if(routeCoords[_0x500861(0x1bd)]<0x2)return routeCoords[0x0];let _0x536fc3=0x1;for(;_0x536fc3<cumulativeDist[_0x500861(0x1bd)]&&cumulativeDist[_0x536fc3]<_0x47ffc3;)_0x536fc3++;if(_0x536fc3>=cumulativeDist[_0x500861(0x1bd)])return routeCoords['at'](-0x1);let _0x42fe99=routeCoords[_0x536fc3-0x1],_0x3eabd5=routeCoords[_0x536fc3],_0x260b4a=cumulativeDist[_0x536fc3]-cumulativeDist[_0x536fc3-0x1],_0x19b7b4=(_0x47ffc3-cumulativeDist[_0x536fc3-0x1])/_0x260b4a;return[_0x42fe99[0x0]+_0x19b7b4*(_0x3eabd5[0x0]-_0x42fe99[0x0]),_0x42fe99[0x1]+_0x19b7b4*(_0x3eabd5[0x1]-_0x42fe99[0x1])];}function distanceToTime(_0x34cef5){const _0x588810=_0x2b6d;if(timePoints[_0x588810(0x1bd)]<0x2)return 0x0;for(let _0x32225f=0x1;_0x32225f<timePoints['length'];_0x32225f++){let _0xb7ab5=timePoints[_0x32225f-0x1],_0x12a1e9=timePoints[_0x32225f];if(_0x34cef5>=_0xb7ab5['dist']&&_0x34cef5<=_0x12a1e9['dist']){let _0x1a1bdf=(_0x34cef5-_0xb7ab5[_0x588810(0x192)])/(_0x12a1e9[_0x588810(0x192)]-_0xb7ab5[_0x588810(0x192)]);return _0xb7ab5[_0x588810(0x1c2)]+_0x1a1bdf*(_0x12a1e9[_0x588810(0x1c2)]-_0xb7ab5[_0x588810(0x1c2)]);}}return _0x34cef5<timePoints[0x0][_0x588810(0x192)]?timePoints[0x0][_0x588810(0x1c2)]:_0x34cef5>timePoints['at'](-0x1)[_0x588810(0x192)]?timePoints['at'](-0x1)[_0x588810(0x1c2)]:0x0;}function interpolateDistanceForTime(_0x57222d){const _0x2b384b=_0x2b6d;if(_0x57222d<=timePoints[0x0][_0x2b384b(0x1c2)])return timePoints[0x0]['dist'];if(_0x57222d>=timePoints['at'](-0x1)[_0x2b384b(0x1c2)])return timePoints['at'](-0x1)['dist'];if(timePoints['length']<0x2)return 0x0;for(let _0x39773a=0x1;_0x39773a<timePoints['length'];_0x39773a++){let _0x34c7a6=timePoints[_0x39773a-0x1],_0x3bfa83=timePoints[_0x39773a];if(_0x57222d>=_0x34c7a6[_0x2b384b(0x1c2)]&&_0x57222d<=_0x3bfa83[_0x2b384b(0x1c2)]){let _0xc66a05=(_0x57222d-_0x34c7a6[_0x2b384b(0x1c2)])/(_0x3bfa83[_0x2b384b(0x1c2)]-_0x34c7a6[_0x2b384b(0x1c2)]);return _0x34c7a6[_0x2b384b(0x192)]+_0xc66a05*(_0x3bfa83[_0x2b384b(0x192)]-_0x34c7a6[_0x2b384b(0x192)]);}}return _0x57222d<timePoints[0x0][_0x2b384b(0x1c2)]?timePoints[0x0][_0x2b384b(0x192)]:_0x57222d>timePoints['at'](-0x1)['time']?timePoints['at'](-0x1)[_0x2b384b(0x192)]:0x0;}function setupVisualization(){const _0x5c8779=_0x2b6d;landmarks['forEach'](_0xb77c99=>{const _0x23f9c6=_0x2b6d;L[_0x23f9c6(0x1b4)]([_0xb77c99[_0x23f9c6(0x1ac)],_0xb77c99[_0x23f9c6(0x1a8)]],{'radius':0x4,'color':_0x23f9c6(0x181)})[_0x23f9c6(0x1b0)](map)[_0x23f9c6(0x1ad)](_0xb77c99[_0x23f9c6(0x18b)]);});let _0x2ff8d3=L[_0x5c8779(0x186)](routeCoords,{'color':_0x5c8779(0x181),'weight':0x4})['addTo'](map);_0x2ff8d3['on']('click',_0x3ad9bb=>{const _0x4c540b=_0x5c8779;let _0x310ecc=findNearestPointOnRoute([_0x3ad9bb[_0x4c540b(0x189)]['lat'],_0x3ad9bb[_0x4c540b(0x189)][_0x4c540b(0x1b7)]]);marker[_0x4c540b(0x184)](_0x310ecc[_0x4c540b(0x1ab)]);let _0x4fb622=distanceToTime(_0x310ecc[_0x4c540b(0x192)]);player['seekTo'](_0x4fb622,!0x0);});let _0x1a1e10=L[_0x5c8779(0x190)]({'className':'','html':_0x5c8779(0x1c0),'iconSize':[0x1a,0x1a],'iconAnchor':[0xd,0xd]}),_0x19431f;landmarks['length']>0x0?initialDist=findNearestPointOnRoute(_0x19431f=[landmarks[0x0][_0x5c8779(0x1ac)],landmarks[0x0]['lon']])['dist']:(_0x19431f=routeCoords[0x0],initialDist=0x0),marker?marker['setLatLng'](_0x19431f):marker=L['marker'](_0x19431f,{'icon':_0x1a1e10})['addTo'](map),map[_0x5c8779(0x199)](_0x19431f,0xf);}function syncMarker(){const _0x127853=_0x2b6d;if(!player||!marker||0x0===routeCoords[_0x127853(0x1bd)]){requestAnimationFrame(syncMarker);return;}let _0x3d2702=player[_0x127853(0x19c)](),_0x2c08c6;_0x2c08c6=landmarks[_0x127853(0x1bd)]>0x0&&_0x127853(0x18c)==typeof landmarks[0x0][_0x127853(0x1c2)]&&_0x3d2702<landmarks[0x0][_0x127853(0x1c2)]?initialDist:interpolateDistanceForTime(_0x3d2702);let _0x2e2ecc=getPositionAtDistance(_0x2c08c6);marker[_0x127853(0x184)](_0x2e2ecc),autoPanEnabled&&map[_0x127853(0x1aa)](_0x2e2ecc,{'animate':!0x0}),updateLabel(_0x3d2702),requestAnimationFrame(syncMarker);}document['getElementById'](_0x31c0bb(0x1c9))['addEventListener'](_0x31c0bb(0x17f),async()=>{const _0x2f4749=_0x31c0bb;let _0xf0cb7b=document[_0x2f4749(0x17e)](_0x2f4749(0x1a0)),_0x5b617c=document[_0x2f4749(0x17e)]('videoIdInput');if(!_0xf0cb7b[_0x2f4749(0x1c5)][_0x2f4749(0x1bd)])return alert(_0x2f4749(0x1cb));if(!(videoId=_0x5b617c[_0x2f4749(0x1ae)][_0x2f4749(0x1a7)]()))return alert(_0x2f4749(0x182));let _0xf48182=_0xf0cb7b[_0x2f4749(0x1c5)][0x0],_0x504c67=await _0xf48182[_0x2f4749(0x1a5)]();loadedData=JSON['parse'](_0x504c67),map&&map[_0x2f4749(0x1c8)](),routeCoords=[],cumulativeDist=[],timePoints=[],landmarks=[],initMap(),loadData(loadedData),loadYouTubePlayer(videoId);});const jsonInput=document[_0x31c0bb(0x17e)]('jsonFileInput'),fileNameDisplay=document[_0x31c0bb(0x17e)](_0x31c0bb(0x1bc));function updateLabel(_0x82aead){const _0x3c5540=_0x31c0bb;let _0x321022=document[_0x3c5540(0x17e)](_0x3c5540(0x1c4));if(!_0x321022)return;if(!landmarks||0x0===landmarks[_0x3c5540(0x1bd)]){_0x321022['style'][_0x3c5540(0x1b9)]=0x0;return;}let _0x502e40=_0x82aead-0x0,_0x48e3fe=landmarks[_0x3c5540(0x1c6)](_0x20e9fe=>0x2>Math[_0x3c5540(0x1a3)](_0x20e9fe[_0x3c5540(0x1c2)]-_0x502e40));_0x48e3fe?(_0x321022[_0x3c5540(0x185)]=_0x48e3fe['description'],_0x321022[_0x3c5540(0x18d)][_0x3c5540(0x1b9)]=0x1):_0x321022[_0x3c5540(0x18d)][_0x3c5540(0x1b9)]=0x0;}jsonInput[_0x31c0bb(0x18a)]('change',()=>{const _0x46eaef=_0x31c0bb;jsonInput[_0x46eaef(0x1c5)]['length']>0x0?(fileNameDisplay[_0x46eaef(0x1c1)]=jsonInput[_0x46eaef(0x1c5)][0x0][_0x46eaef(0x1a4)],fileNameDisplay['style']['color']=_0x46eaef(0x1a6)):(fileNameDisplay[_0x46eaef(0x1c1)]=_0x46eaef(0x1c7),fileNameDisplay[_0x46eaef(0x18d)]['color']=_0x46eaef(0x1c3));});